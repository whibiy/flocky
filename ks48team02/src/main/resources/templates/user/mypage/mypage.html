<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{user/layout/login_default}">
<!--ë¡œê·¸ì¸ í›„ ë³¼ ìˆ˜ ìˆëŠ” ìœ ì € ë§ˆì´ í˜ì´ì§€-->
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <style>
        .login-logo .user-connection-menu {
            display: none;
        }
        #tabWrapper {
            background-color: white;
            display: flex;
            justify-content: center;
            overflow: hidden;
            padding-top: 30px;
        }

        #tabContainer {
            width: 1040px;
        }

        .nav-link{
            font-size: medium;
        }

        #profileContainer{
            display: flex;
            justify-content: center;
            padding: 35px;
            flex-direction: column;
        }

        .img-box{
            margin: 0 auto;
        }

        #name-box{
            display: flex;
            justify-content: center;
            flex-direction: row;
        }

        /*  tabì˜ ë‚´ë¶€ ì˜ì—­ ì‹œì‘ */
        .titleContainer{
            /*display : flex;*/
            flex-direction: column;
            /*height : 150px;*/
            justify-content: start;
            padding: 30px 0 20px 30px;

        }

        /* tab ë‚´ë¶€ì˜ íƒ€ì´í‹€ ì˜ì—­ */
        .tabTitle{
            display : flex;
            height : 50px;
            flex-direction: column;
            justify-content: start;
            font-size : 30px;
            font-weight: bold;
            margin-bottom: 30px;
            color:black; !important;
        }

        /* ì…€ë ‰íŠ¸ í¬í•¨í•œ div */
        #selectContainer{
            display: flex;
            width: 250px;
            height: 50px;
        }

        #selectFund{
            font-size:16px;
            padding:10px 70px 10px 10px;
            color:dimgray;
        }

        /* tab ë‚´ë¶€ì˜ ë³¸ë¬¸ ì˜ì—­ */
        .bodyContainer{
            display : flex;
            flex-direction: column;
            padding: 30px;
        }

        /* ë‚´ì—­ ë¦¬ìŠ¤íŠ¸ í•­ëª©  */
        .contentsContainer{
            margin-bottom: 10px;
            display:flex;
            align-items: center;
            flex-direction: column;
        }

        /*  ê²€ì€ ë²„íŠ¼  */
        .submitBtn_black {
            background: #191919;
            padding: 7px 23px;
            transition: all .4s;
            color: #fff;
            display: inline-block;
            text-decoration: none;
            border: 1px solid #191919;
            font-size: 12px;
            transition: background 0.3s;
            margin-left: 7px;
        }

        .submitBtn_black:hover {
            background: var(--maincolor);
            border: 1px solid var(--maincolor);
        }

        .submitBtn_black:disabled{
            background-color: lightgrey;
            border: 1px solid lightgrey;
        }

        /* í° ë²„íŠ¼ */
        .submitBtn_white {
            background: #fff;
            padding: 7px 23px;
            transition: all .4s;
            color: #191919;
            display: inline-block;
            text-decoration: none;
            border: 1px solid #191919;
            font-size: 12px;
            transition: background 0.3s;
            margin-left: 7px;
        }

        .submitBtn_white:hover {
            background: var(--maincolor);
            border: 1px solid var(--maincolor);
            color: #fff;
        }

        /* í° ë²„íŠ¼ */
        .submitBtn_blue {
            background: var(--maincolor);
            padding: 7px 23px;
            transition: all .4s;
            color: #fff;
            display: inline-block;
            text-decoration: none;
            border: 1px solid #191919;
            font-size: 12px;
            transition: background 0.3s;
            margin-left: 7px;
        }

        .submitBtn_blue:hover {
            background: #fff;
            border: 1px solid #191919;;
            color: #191919;
        }

        .nav-link{
            padding:10px 60px 0 60px;
        }

        .user-info{
            width: 400px;
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            color:black;
            padding-left: 10px;
        }

        .h4 pb-2 mb-4 text-danger border-bottom border-grey{
            height: 80px ;
        }
        .user-info-list{
            font-weight: bold;
            font-size: medium;
            color: black;
        }

        /* íšŒì› íƒˆí‡´ a íƒœê·¸*/
        #lead-drop-page {
            color: lightgrey;
        }

        #lead-drop-page:hover {
            color: black; /* í¬ì»¤ì‹±ë  ë•Œ ê¸€ì ìƒ‰ìƒì„ ê²€ì€ìƒ‰ìœ¼ë¡œ ë³€ê²½ */
        }

        .hidden{
            display: none;
        }

        .btn.btn-secondary.btn-sm{
            background-color: lightgrey;
            border: 1px solid white;
            border-radius: 5px;
        }
        input::placeholder,.form-control {
            font-size: 14px; /* ì›í•˜ëŠ” ê¸€ê¼´ í¬ê¸°ë¡œ ì¡°ì ˆ */
            color: lightgrey;
        }

        /* ì§„í˜„ ì¿ í° */
        .couponArea{
            width: 900px;
            margin: 0 auto;
        }
        ul.couponArea {
            display: flex;
            gap: 10px;
        }
        ul.couponArea li {
            padding: 5px 0;
        }
        .title{
            width: 900px;
            margin: 0 auto;
            max-width: 1000px;
            line-height: 36px;
            color: rgba(0,0,0,.87);
            font-size: 28px;
            font-weight: 700;
            box-sizing: content-box;
            margin-bottom: 30px;
            margin-top: 30px;
        }
        .couponHeader{
            color: #44484b;
            padding-right: 20px;
            /*border-bottom: 1px solid rgba(0,0,0,.08);*/

        }
        .couponTitle{
            margin-right: 20px;
        }
        .myCouponPage{
            margin-top: 40px;
            color: black;
            font-size: 19px;
            margin-bottom: 50px;
        }
        .userCouponAdd{
            display: flex;
            background: transparent;
            outline: none;
            border: none;
            cursor: pointer;
            /*border-bottom: 1px solid ;*/
        }
        .userCouponAdd:focus{
            outline: none;
        }
        .downloadArea{
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 1px solid #eee;
            margin-bottom: 100px;
        }
        .couponPolicy{
            width: 900px;
            margin: 0 auto;
        }
        .couponPolicy ol,
        .couponPolicy li {
            list-style-type: decimal;
        }
        .couponPolicy ol {
            margin-left: 30px;
        }
        .modal-dialog{
            width: 900px;
            margin-top: 100px;
        }
        .couponCode{
            text-align: center;
        }
    </style>

</head>
<body>
<!--ì‚¬ìš©ìë³„ html-->
<th:block layout:fragment="customContents">
    <!-- ìœ ì € í”„ë¡œí•„ ì˜ì—­   -->
    <div id="profileContainer">
        <!-- í”„ë¡œí•„ ì´ë¯¸ì§€ -->
        <div class="img-box">
            <img style="width: 90px; height: 90px; border-radius: 50%;" src="https://search.pstatic.net/sunny/?src=https%3A%2F%2Fi.namu.wiki%2Fi%2FDgDM89CJAmUv4KwG-JNwQOWklX6MPKPXip-KQL66igwbwegZ3y6pRdFZ3Ne28Qn7JaxXZzewB3_iHM_uqJ7s8A.webp&type=sc960_832"
                 id="profile_img" alt="">
        </div>

        <!-- ì‚¬ìš©ì ì´ë¦„ + ì„¤ì • ì•„ì´ì½˜ -->
        <div id="name-box">
            <!-- ì‚¬ìš©ì ì´ë¦„ -->
            <h2>ìµœë¯¸ë¯¸</h2>
            <!-- ì„¤ì • ì•„ì´ì½˜ í´ë¦­ì‹œ í”„ë¡œí•„ ì„¤ì • í˜ì´ì§€ë¡œ ì´ë™  -->
            <a th:href="@{/user/mypage/profile}"><i class="bi bi-gear" id="showProfileIcon" ></i></a>
        </div>
    </div>
    <!-- tab ë©”ë‰´ ì˜ì—­  -->
    <!-- data-toggle="tab" ì†ì„±ì„ Bootstrapì˜ <a> íƒœê·¸ì— ì¶”ê°€í•˜ë©´ í•´ë‹¹ ë§í¬ê°€ tab ì»´í¬ë„ŒíŠ¸ë¥¼ ì œì–´í•˜ë„ë¡ ì„¤ì • -->
    <div id="tabWrapper">
        <div id="tabContainer">
            <ul class="nav nav-tabs nav-justified justify-content-center" id="tabList">
                <li class="nav-item"><a href="#menu1" class="nav-link active" data-toggle="tab">í›„ì›í•œ í€ë”©</a></li>
                <li class="nav-item"><a href="#menu2" class="nav-link " data-toggle="tab">ì°œí•œ ë¦¬ì›Œë“œ í€ë”©</a></li>
                <li class="nav-item"><a href="#menu5" class="nav-link" data-toggle="tab">ì ë¦½ê¸ˆ/ì¿ í°/</a></li>
                <li class="nav-item"><a href="#menu6" class="nav-link" data-toggle="tab">ë‚´ ì •ë³´</a></li>
            </ul>

    <!-- tab ë‚´ì— í‘œì‹œë  ì˜ì—­  -->
            <div class="tab-content" >
                <div id="menu1" class="container tab-pane active">
                    <!--  tab ë‚´ë¶€ íƒ€ì´í‹€ ì˜ì—­ -->
                    <div class="titleContainer" >
                        <div class="tabTitle">í€ë”© ë‚´ì—­</div>

                    <!--  í€ë”© ì¢…ë¥˜ select  -->
                    <div id="selectContainer">
                        <select id="selectFund" class="form-select form-select-lg" >
                            <option class="fundCategory" value="viewAll">ì „ì²´</option>
                            <option class="fundCategory" value="reward">ë¦¬ì›Œë“œ</option>
                            <option class="fundCategory" value="investment">íˆ¬ì</option>
                            <option class="fundCategory" value="donation">ê¸°ë¶€</option>
                        </select>
                    </div>

                    </div >
                    <!--  ë¦¬ì›Œë“œ í€ë”© ì„ íƒì‹œ ë‚˜íƒ€ë‚  í˜ì´ì§€  -->
                    <!--  tab ë‚´ë¶€ ë³¸ë¬¸ ì˜ì—­ -->
                    <div class="bodyContainer" id="orderProject">
                        <!--  ë‚´ì—­ ë¦¬ìŠ¤íŠ¸ í•­ëª© -->
                        <div class="contentsContainer mb-lg-5" th:each="l : ${mypageOrderList}">
                            <div class="card" style="width: 48rem;">
                                <!-- ë‚´ì—­ ìƒíƒœ ( ì£¼ë¬¸ ìƒíƒœ ìƒì„¸ )  -->
                                <h5 class="card-header" th:text="${l.orderCategoryDetail}"></h5>
                                <!-- ë‚´ì—­ ë‚´ìš© -->
                                <div class="card-body" style="display: flex">
                                    <!-- ì´ë¯¸ì§€  -->
                                    <div>
                                        <img class="card-img-top" style="width: 160px; height: 160px; border:#8a8a8a solid 1px;" alt="..." th:src="|@{/summernoteImage/}${l.projectThumbnailImage}|"
                                             th:onerror="|this.src='@{/user/images/no-image.svg}'|">
                                    </div>

                                    <!-- ì„¤ëª… / ë²„íŠ¼ -->
                                    <form action="" method="post" style="display: flex; flex-direction: column; justify-content:space-between; padding-left:30px; width: 1200px;">
                                            <p class="orderApplicationDate" th:text="${#strings.substring(l.orderApplicationDate,0,10)}">2023.10.30 ê²°ì œ</p>
                                            <h5 class="orderName" th:text="${l.orderFundingName}">[9ë§Œì›ëŒ€ | ê°€ì„±ë¹„ ëíŒì™•] ëˆ„ì   ëª¨ë˜ì‹œê³„ ê°€ì—´ì‹ ê°€ìŠµê¸°</h5>
                                            <th:block th:if="${#lists.size(rl) > 0}" th:each="rl : ${l.rewardOrderDetailList}">
                                                <span class="card-text" th:text="${rl.optionName}">ëˆ„ì   ëª¨ë˜ì‹œê³„ ê°€ì—´ì‹ ê°€ìŠµê¸°(í™”ì´íŠ¸)</span>
                                                <span th:text="|ì£¼ë¬¸ ìˆ˜ëŸ‰ : ${rl.orderOptionAmount} ê°œ|"></span>
                                            </th:block>
                                            <div style="display: flex; justify-content: end; margin:0;">
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_001'}">
                                                    <!--ë¦¬ì›Œë“œ í”„ë¡œì íŠ¸ ì£¼ë¬¸ ì™„ë£Œ-->
                                                    <a onclick="return confirm('ì •ë§ë¡œ êµ¬ë§¤í™•ì • í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')"
                                                            th:href="@{/user/mypage/reward/orderConfirm(orderCode=${l.orderCode})}" class="confirmBtn submitBtn_blue">êµ¬ë§¤ í™•ì •</a>
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode},detailCategory='ê²°ì œë‚´ì—­')}" class="payDetailBtn submitBtn_white">ê²°ì œ ë‚´ì—­</a>
                                                    <a th:href="@{/user/mypage/reward/cancel(orderCode=${l.orderCode})}" class="orderCancelBtn submitBtn_black">ì£¼ë¬¸ ì·¨ì†Œ</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_002'}">
                                                    <!--ê¸°ë¶€ í”„ë¡œì íŠ¸ ì£¼ë¬¸ ì™„ë£Œ-->
                                                    <a th:href="@{/user/donation/payment/detailInfo(orderCode=${l.orderCode})}" class="payDetailBtn submitBtn_white" >ê¸°ë¶€ ë‚´ì—­</a>
                                                    <!--ê¸°ë¶€ ì·¨ì†ŒëŠ” ê¸°ë¶€ ì£¼ë¬¸ í›„ 7ì¼ ì´ë‚´ ê°€ëŠ¥í•˜ë„ë¡.-->
                                                    <a th:href="@{/user/donation/floverPayment/cancel(orderCode=${l.orderCode})}" id="paymentCancelBtn" class="payDetailBtn orderCancelBtn submitBtn_black">ê¸°ë¶€ ì·¨ì†Œ</a>
                                                    <input class="donationOrderCode" hidden="hidden" th:value="${l.orderCode}">
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_003'}">
                                                    <!--íˆ¬ì í”„ë¡œì íŠ¸ ì£¼ë¬¸ ì™„ë£Œ, ì²­ì•½ ì‹ ì²­ ì¤‘-->
                                                    <a href="#" class="submitBtn_white">íˆ¬ì í˜„í™©</a>
                                                    <a href="#" class="payDetailBtn submitBtn_white">íˆ¬ì ë‚´ì—­</a>
                                                    <a href="#" class="orderCancelBtn submitBtn_black">íˆ¬ì ì·¨ì†Œ</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_004'}">
                                                    <!--ë¦¬ì›Œë“œ ë°°ì†¡ ëŒ€ê¸°-->
                                                    <a onclick="return confirm('ì •ë§ë¡œ êµ¬ë§¤í™•ì • í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')"
                                                       th:href="@{/user/mypage/reward/orderConfirm(orderCode=${l.orderCode})}" class="confirmBtn submitBtn_blue">êµ¬ë§¤ í™•ì •</a>
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode},detailCategory='ê²°ì œë‚´ì—­')}" class="payDetailBtn submitBtn_white">ê²°ì œ ë‚´ì—­</a>
                                                    <a th:href="@{/user/mypage/reward/cancel(orderCode=${l.orderCode})}" class="orderCancelBtn submitBtn_black">ì£¼ë¬¸ ì·¨ì†Œ</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_015'}">
                                                    <!--ë¦¬ì›Œë“œ ë°°ì†¡ ì¤‘-->
                                                    <a onclick="return confirm('ì •ë§ë¡œ êµ¬ë§¤í™•ì • í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')"
                                                       th:href="@{/user/mypage/reward/orderConfirm(orderCode=${l.orderCode})}" class="confirmBtn submitBtn_blue">êµ¬ë§¤ í™•ì •</a>
                                                    <a href="#" class="submitBtn_white" >ë°°ì†¡ ì •ë³´</a>
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode},detailCategory='ê²°ì œë‚´ì—­')}" class="payDetailBtn submitBtn_white">ê²°ì œ ë‚´ì—­</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_005'}">
                                                    <!--ë¦¬ì›Œë“œ ë°°ì†¡ ì™„ë£Œ-->
                                                    <a onclick="return confirm('ì •ë§ë¡œ êµ¬ë§¤í™•ì • í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')"
                                                       th:href="@{/user/mypage/reward/orderConfirm(orderCode=${l.orderCode})}" class="confirmBtn submitBtn_blue">êµ¬ë§¤ í™•ì •</a>
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode},detailCategory='ê²°ì œë‚´ì—­')}" class="payDetailBtn submitBtn_white">ê²°ì œ ë‚´ì—­</a>
                                                    <a th:href="@{/user/mypage/refund}" class="submitBtn_black" >í™˜ë¶ˆ ì‹ ì²­</a>
                                                    <a th:href="@{/user/mypage/refund/cancel}" class="submitBtn_black" >êµí™˜ ì‹ ì²­</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_006'}">
                                                    <!--ë¦¬ì›Œë“œ ì£¼ë¬¸ í™•ì •-->
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode},detailCategory='ê²°ì œë‚´ì—­')}" class="payDetailBtn submitBtn_white">ê²°ì œ ë‚´ì—­</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_007'}">
                                                    <!--ê¸°ë¶€ ì£¼ë¬¸ í™•ì •-->
                                                    <a th:href="@{/user/donation/detail/condition(donationCode=${l.goodsCode})}" class="submitBtn_white" >ê¸°ë¶€ í˜„í™©</a>
                                                    <a th:href="@{/user/donation/detail(donationCode=${l.goodsCode})}" class="submitBtn_white" >ê¸°ë¶€ ìƒì„¸</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_008'}">
                                                    <!--íˆ¬ì ì£¼ë¬¸ í™•ì •, ë‚©ì…ì¼ ë„ë˜-->
                                                    <a href="#" class="submitBtn_white" >íˆ¬ì í˜„í™©</a>
                                                    <a href="#" class="submitBtn_white" >íˆ¬ì ìƒì„¸</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_009'}">
                                                    <!--ë¦¬ì›Œë“œ í™˜ë¶ˆ ì§„í–‰ ì¤‘-->
                                                    <a href="#" class="submitBtn_white" >í™˜ë¶ˆ ìƒì„¸</a>
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode},detailCategory='ê²°ì œë‚´ì—­')}" class="payDetailBtn submitBtn_white">ê²°ì œ ë‚´ì—­</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_010'}">
                                                    <!--ë¦¬ì›Œë“œ í™˜ë¶ˆ ì²˜ë¦¬ ì™„ë£Œ-->
                                                    <a href="#" class="submitBtn_white" >í™˜ë¶ˆ ë‚´ì—­</a>
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode},detailCategory='ê²°ì œë‚´ì—­')}" class="payDetailBtn submitBtn_white">ê²°ì œ ë‚´ì—­</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_011'}">
                                                    <!--ë¦¬ì›Œë“œ êµí™˜ ì§„í–‰ ì¤‘-->
                                                    <a href="#" class="submitBtn_white" >êµí™˜ ìƒì„¸</a>
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode},detailCategory='ê²°ì œë‚´ì—­')}" class="payDetailBtn submitBtn_white">ê²°ì œ ë‚´ì—­</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_012'}">
                                                    <!--ë¦¬ì›Œë“œ êµí™˜ ì™„ë£Œ-->
                                                    <a href="#" class="submitBtn_white" >êµí™˜ ë‚´ì—­</a>
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode},detailCategory='ê²°ì œë‚´ì—­')}" class="payDetailBtn submitBtn_white">ê²°ì œ ë‚´ì—­</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_013'}">
                                                    <!--ë¦¬ì›Œë“œ í”„ë¡œì íŠ¸ ì‹¤íŒ¨ë¡œ ì£¼ë¬¸ ì·¨ì†Œ-->
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode},detailCategory='ì·¨ì†Œë‚´ì—­')}" class="payDetailBtn submitBtn_white">ì·¨ì†Œ ë‚´ì—­</a>
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode},detailCategory='ê²°ì œë‚´ì—­')}" class="payDetailBtn submitBtn_white">ê²°ì œ ë‚´ì—­</a>
                                                </th:block>
                                                <th:block th:if="${l.orderCategoryCode =='ORDC_014'}">
                                                    <!--ë¦¬ì›Œë“œ êµ¬ë§¤ì ì‹ ì²­ìœ¼ë¡œ ì£¼ë¬¸ ì·¨ì†Œ-->
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode},detailCategory='ì·¨ì†Œë‚´ì—­')}" class="payDetailBtn submitBtn_white">ì·¨ì†Œ ë‚´ì—­</a>
                                                    <a th:href="@{/user/mypage/reward/detailInfo(orderCode=${l.orderCode},detailCategory='ê²°ì œë‚´ì—­')}" class="payDetailBtn submitBtn_white">ê²°ì œ ë‚´ì—­</a>
                                                </th:block>
                                            </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <div id="menu2" class="container tab-pane ">
                    <div class="titleContainer">
                        <div class="tabTitle">ì°œí•œ ë¦¬ì›Œë“œ í€ë”©</div>
                    </div>
                    <div class="bodyContainer" id="rewardGreatProject">
                        <!--  ë‚´ì—­ ë¦¬ìŠ¤íŠ¸ í•­ëª© -->
                        <div class="contentsContainer mb-lg-5 text-dark" th:each="l : ${rewardGreatList}"
                             th:onclick="|location.href='@{/user/reward/detail(rewardProjectCode=${l.rewardProjectCode})}'|">
                            <div class="card" style="width: 48rem;">
                                <!-- ë‚´ì—­ ìƒíƒœ ( ì£¼ë¬¸ ìƒíƒœ ìƒì„¸ )  -->
                                <h5 class="card-header" th:text="${l.projectSubject}"></h5>
                                <!-- ë‚´ì—­ ë‚´ìš© -->
                                <div class="card-body" style="display: flex">
                                    <!-- ì´ë¯¸ì§€  -->
                                    <div>
                                        <img class="card-img-top" style="width: 160px; height: 160px; border:#8a8a8a solid 1px;" alt="..." th:src="|@{/summernoteImage/}${l.projectThumbnailImage}|"
                                             th:onerror="|this.src='@{/user/images/no-image.svg}'|">
                                    </div>

                                    <!-- ì„¤ëª… / ë²„íŠ¼ -->
                                    <form action="" method="post" style="display: flex; flex-direction: column; justify-content:space-between; padding-left:30px; width: 1200px;">
                                        <span style=" font-weight: bold; font-size: 20px; color: #235FD9;" th:text="|${l.projectAchievementPercent}% ë‹¬ì„±|"></span>
                                        <span>í€ë”© ëª©í‘œ ê¸ˆì•¡ : <span class="text-primary" th:text="${#numbers.formatInteger(l.projectGoalMoney,0,'COMMA')}"></span> ì›</span>
                                        <span>í€ë”© ë‹¬ì„± ê¸ˆì•¡ : <span class="text-primary" th:text="${#numbers.formatInteger(l.projectAchievementMoney,0,'COMMA')}"></span> ì›</span>
                                        <span>í€ë”© ë§ˆê° ì¼ì : <span class="reward-item-span-third" th:text="${#strings.substring(l.projectEndDate,0,10)}"></span></span>
                                        <div class="reward-item-fourth-child" th:text="${l.regCompany}"></div>
                                    </form>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>


                <div id="menu5" class="container tab-pane">
                    <div class="titleContainer">
                        <div class="tabTitle">ì ë¦½ê¸ˆ/ì¿ í°</div>
                        <div class="couponArea">
                            <h2 class="title">ì¿ í°</h2>
                        </div>
                        <div class="tab-btn-area">
                            <ul class="couponArea">
                                <li>
                                    <a class="couponTitle" th:href="@{'#'}">ë‚˜ì˜ ì¿ í°</a>
                                </li>

                                <li>
                                    <a class="couponTitle" th:href="@{/user/coupon/couponZone}">ì¿ í°ì¡´</a>
                                </li>

                                <li>
                                    <a class="couponTitle" th:href="@{'#'}">ì§€ë‚œ ì¿ í° ë‚´ì—­</a>
                                </li>

                            </ul>

                            <div class="couponArea">
                                <div class="myCouponPage couponArea">
                                    <strong class="couponPageTitle">
                                        í˜„ì¬ ì‚¬ìš©ê°€ëŠ¥ ì¿ í°
                                        <span class="couponCount">0ì¥</span>
                                    </strong>
                                </div>
                                </div>
                            <table>
                                <thead>
                                    <tr>

                                    </tr>
                                </thead>
                                <tbody>
                                <tr th:if="${memberHaveCouponList == null}">
                                    <td colspan="4">ë“±ë¡ëœ ì¿ í°ì´ ì—†ìŠµë‹ˆë‹¤</td>
                                </tr>
                                <tr th:unless="${memberHaveCouponList == null}" th:each=" l : ${memberHaveCouponList}">
                                    <td th:text="${l.couponName}"></td>
                                    <th:block th:if="${l.couponDiscountAmount} >0">
                                        <td th:text="${l.couponDiscountAmount}"></td>
                                    </th:block>
                                    <th:block th:if="${l.couponDiscountRate} > 0">
                                        <td th:text="${l.couponDiscountRate}"></td>
                                    </th:block>
                                    <td th:text="${l.memberCoupon.couponRegDate}"></td>
                                    <td th:text="${l.memberCoupon.couponEndDate}"></td>
                                </tr>
                                </tbody>


                            </table>

                        </div>

                        <div class="downloadArea">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
                                <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                                <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
                            </svg>
                            <!-- Button trigger modal -->
                            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                                ì¿ í° ë“±ë¡í•˜ê¸°
                            </button>

                            <!-- Modal -->
                            <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="staticBackdropLabel">ì¿ í°ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</h5>
                                        </div>
                                        <div class="modal-body">
                                            <form>
                                                <div class="field">
                                                    <label class="couponSerialNum">ì¿ í°ë²ˆí˜¸</label>
                                                    <br>
                                                    <div class="couponCode">
                                                        <input class="couponCode" name="couponCode" maxlength="15" placeholder="ì¿ í°ë²ˆí˜¸ ì…ë ¥" type="text">
                                                        <br>
                                                        <em class="addCouponModal">ìµœëŒ€ 10ìë¦¬ í˜¹ì€ 15ìë¦¬ (~ì œì™¸)</em>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ë‹«ê¸°</button>
                                            <button type="button" class="btn btn-primary">ë“±ë¡</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>



                        <br><br><br><br><br><br><br><br><br><br><br><br>

                        <div class="couponPolicy">
                            <strong class="couponMessage">
                                í€ë”© ìŠ¤í† ì–´ ì´ìš©ì•ˆë‚´
                            </strong>
                            <ol>
                                <li>ì¿ í°ì€ ë¦¬ì›Œë“œãƒ»ê¸°ë¶€ ì„œë¹„ìŠ¤ ì´ìš© ì‹œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                                <li>ì¿ í°ì€ ë‹¤ë¥¸ ì¿ í°ê³¼ ì¤‘ë³µí•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</li>
                                <li>ì¿ í°ì˜ êµ¬ì²´ì ì¸ ì‚¬ìš© ì¡°ê±´ì€ ë°œí–‰ë˜ëŠ” ì¿ í° ë³„ë¡œ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                                <li>í”„ë¡œì íŠ¸ê°€ ì‹¤íŒ¨í•˜ê±°ë‚˜ ê²°ì œ ì˜ˆì•½ ì·¨ì†Œë¥¼ í•œ ê²½ìš°, ì¿ í°ì€ ë°˜í™˜ë©ë‹ˆë‹¤. ë‹¨, ë°˜í™˜ ì‹œì ì— ì¿ í° ìœ íš¨ê¸°ê°„ì´ ë§Œë£Œëœ ê²½ìš° ìë™ ì†Œë©¸ë©ë‹ˆë‹¤.</li>
                                <li>ê²°ì œ ì‹¤íŒ¨ì¸ ê²½ìš°ì—ëŠ” ì¿ í°ì´ ë°˜í™˜ë˜ì§€ì•Šê³ , ì†Œë©¸ë©ë‹ˆë‹¤.</li>
                            </ol>
                            <br><br>

                            <strong>ìŠ¤í† ì–´ ì¿ í° ì´ìš©ì•ˆë‚´</strong>
                            <ol>
                                <li>ìŠ¤í† ì–´ ì„œë¹„ìŠ¤ ì´ìš© ì‹œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                                <li>ì¿ í°ì€ ë‹¤ë¥¸ ì¿ í°ê³¼ ì¤‘ë³µí•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</li>
                                <li>ì¿ í°ì˜ êµ¬ì²´ì ì¸ ì‚¬ìš© ì¡°ê±´ì€ ë°œí–‰ë˜ëŠ” ì¿ í° ë³„ë¡œ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                                <li>ì¿ í°ì€ ë°°ì†¡ë¹„ë¥¼ ì œì™¸í•œ ì£¼ë¬¸ ìƒí’ˆ ê¸ˆì•¡ì„ ê¸°ì¤€ìœ¼ë¡œ ì ìš©ë˜ë©°, ì¿ í° ê¸ˆì•¡ë³´ë‹¤ ì£¼ë¬¸ ìƒí’ˆ ê¸ˆì•¡ì´ ë‚®ì€ ê²½ìš° ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</li>
                                <li>ê²°ì œ ì·¨ì†Œ(ì£¼ë¬¸ ì·¨ì†Œ, í™˜ë¶ˆ ì™„ë£Œ ë“±) ì‹œ ì‚¬ìš©í•œ ì¿ í°ì€ ìë™ ë³µêµ¬ë©ë‹ˆë‹¤. ë‹¨, ë³µêµ¬ ì‹œì ì— ì¿ í° ìœ íš¨ ê¸°ê°„ì´ ë§Œë£Œëœ ê²½ìš° ìë™ ì†Œë©¸ë©ë‹ˆë‹¤.</li>
                                <li>ì‚¬ìš© ì™„ë£Œ, ê¸°ê°„ ë§Œë£Œ, ì†Œë©¸ëœ ì¿ í°ì€ ì§€ë‚œ ì¿ í° ë‚´ì—­ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                            </ol>
                        </div>
                        <br><br><br><br>
                    </div>
                </div>
                <div id="menu6" class="container tab-pane" style="" >
                    <div class="titleContainer" >
                        <div class="tabTitle">ë‚´ ì •ë³´</div>
                        <div style=" display: flex; flex-direction: column;
                        justify-content: center; align-items: center;">

                            <form class="join-form">
                                <div class="mb-6">
                                    <p class="user-info-list">ID</p>
                                    <div class="user-info">
                                    <div th:text="${loginId}">id001</div>
                                    </div>
                                </div>
                                <div class="h4 pb-2 mb-4 text-danger border-bottom border-grey" style="width: auto"></div>
                                <!-----  1ï¸âƒ£ ë¹„ë°€ë²ˆí˜¸ ì •ë³´ ----->
                                <div class="mb-6" style="display: flex; justify-content: space-between;" >
                                    <p class="user-info-list">ë¹„ë°€ë²ˆí˜¸</p>
                                    <button id="edit-pw-btn" type="button" data-target="edit-pw" class="btn btn-secondary btn-sm">ë³€ê²½</button>
                                </div>
                                <!-- ë³€ê²½ ë²„íŠ¼ì˜ target (ë³€ê²½ ë²„íŠ¼ í´ë¦­ì‹œ edit-pw divê°€ floating)  -->
                                <div id="edit-pw" class="info-box" style="margin: 10px 50px 0 50px; display: none;">
                                    <!--  ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸   -->
                                    <p>í˜„ì¬ ë¹„ë°€ë²ˆí˜¸ í™•ì¸</p>
                                    <input class="form-control" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥" id="floating-input"
                                           style="height: 10px; border: 1px solid black; margin: 15px 40px 10px 15px;"/>
                                    <div id="pw-auth-alert" class="form-text" style="color:red; font-size:13px; margin: 0 0 5px 15px;"></div>
                                    <button id="pw-check-btn" type="button" class="submitBtn_black" style="margin-left:15px; margin-bottom: 10px;">í™•ì¸</button>
                                    <!--  ìƒˆë¡œìš´ ë¹„ë°€ë²ˆí˜¸   -->
                                    <p>ìƒˆë¡œìš´ ë¹„ë°€ë²ˆí˜¸</p>
                                    <input class="form-control" type="password" placeholder="ìƒˆë¡œìš´ ë¹„ë°€ë²ˆí˜¸" id="new-pw"
                                           style="height: 10px; border: 1px solid black; margin: 15px 40px 15px 15px;"/>
                                    <input class="form-control" type="password" placeholder="ìƒˆë¡œìš´ ë¹„ë°€ë²ˆí˜¸ í™•ì¸" id="new-pw-check"
                                           style="height: 10px; border: 1px solid black; margin: 15px 40px 10px 15px;"/>
                                    <div id="pw-check-alert" class="form-text" style="color:red; font-size:13px; margin: 0 0 5px 15px;" ></div>
                                    <button id="pw-edit-btn" type="button" class="submitBtn_black" style="margin-left:15px; margin-bottom: 10px;" disabled>ì €ì¥</button>
                                </div>


                                <div class="h4 pb-2 mb-4 text-danger border-bottom border-grey" style="width: auto"></div>

                                <!------ 2ï¸ e-mail ì •ë³´ ----->
                                <div class="mb-6">
                                    <div style="display: flex; justify-content: space-between;">
                                        <p class="user-info-list">e-mail</p>
                                        <button id="edit-email-btn" type="button" data-target="edit-email" class="btn btn-secondary btn-sm edit" >ë³€ê²½</button>
                                    </div>
                                    <div>
                                        <div id="edit-email" class="info-box" style="margin: 10px 50px 0 50px; display:none;">
                                            <input class="form-control" placeholder="ì´ë©”ì¼ ì…ë ¥" id="email-input"
                                                   style="height: 10px; border: 1px solid black; margin: 15px 40px 10px 15px;"/>
                                            <div id="email-alert" class="form-text" style="color:red; font-size:13px; margin: 0 0 5px 15px;"></div>
                                            <button id="email-edit-btn" type="button" class="submitBtn_black" style="margin-left:15px; margin-bottom: 10px;">ì €ì¥</button>
                                        </div>
                                    </div>
                                    <div class="user-info">
                                        <div class="existing-value" th:text="${memberEmail}"></div>
                                    </div>
                                </div>


                                <div class="h4 pb-2 mb-4 text-danger border-bottom border-grey" style="width: auto"></div>

                                <!--  3ï¸âƒ£ íœ´ëŒ€í° ë²ˆí˜¸ ì •ë³´ -->
                                <div class="mb-6">
                                    <div style="display: flex; justify-content: space-between;">
                                        <p class="user-info-list">íœ´ëŒ€í° ë²ˆí˜¸</p>
                                        <!-- ë³€ê²½ ë²„íŠ¼ í´ë¦­ì‹œ divê°€ floating  -->
                                        <button id="edit-phone-btn" type="button" data-target="edit-phone" class="btn btn-secondary btn-sm edit">ë³€ê²½</button>
                                    </div>
                                    <div>
                                        <div id="edit-phone" class="info-box" style="margin: 10px 50px 0 50px; display: none;">
                                            <input class="form-control" placeholder="íœ´ëŒ€í° ë²ˆí˜¸ 11ìë¦¬ ìˆ«ìë§Œ ì…ë ¥" id="phone-input"
                                                   style="height: 10px; border: 1px solid black; margin: 15px 40px 10px 15px;"/>
                                            <div id="phone-alert" class="form-text" style="color:red; font-size:13px; margin: 0 0 5px 15px;"></div>
                                            <button id="phone-edit-btn" type="button" class="submitBtn_black" style="margin-left:15px; margin-bottom: 10px;">ì €ì¥</button>
                                        </div>
                                    </div>
                                    <div class="user-info">
                                        <div class="existing-value" th:text="${memberContactInfo}"></div>
                                    </div>
                                </div>

                                <div class="h4 pb-2 mb-4 text-danger border-bottom border-grey" style="width: auto"></div>
                                <div class="mb-6" style="padding-bottom:80px;">
                                    <a id="lead-drop-page" th:href="@{/user/account/drop}">íšŒì›íƒˆí‡´</a>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>


</th:block>

<!-- ì‚¬ìš©ìë³„ ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ -->
<th:block layout:fragment="customJsFile">

</th:block>

<!-- ì‚¬ìš©ìë³„ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± -->
<th:block layout:fragment="customJsCode">
    <script type="text/javascript" th:inline="javascript">
      /* ì„ íƒí•œ select í•­ëª©ë³„ë¡œ ë‚´ìš© ë‚˜íƒ€ë‚˜ê²Œ  */
      /* ì¼ë‹¨ ëª¨ë“  í•­ëª©ì„ ìˆ¨ê¸°ê³  ë‚˜íƒ€ë‚˜ê²Œ í•´ì•¼ í•  ë“¯ */
      $rewardTab = document.getElementById('rewardTab');
      $investmentTab = document.getElementById('investmentTab');
      $selectFund = document.getElementById('selectFund');
      $donationTab = document.getElementById('donationTab');
      $bodyContainer = document.querySelectorAll('.bodyContainer');



        document.getElementById('lead-drop-page').addEventListener('focus', ()=>{
        })


      /* ë‚´ ì •ë³´ tab ğŸ”½ */
      /* ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ë²„íŠ¼ í´ë¦­ì‹œ div ë³´ì´ê²Œ */
      const $editPwBtn = document.getElementById('edit-pw-btn');
      const $pwEditDiv = document.getElementById('edit-pw')
      $editPwBtn.addEventListener('click',function(){
          if($pwEditDiv.style.display === 'none'){
              $pwEditDiv.style.display = 'block';
              this.style.backgroundColor = 'white';
              this.style.color ='black';
              this.textContent = 'ì·¨ì†Œ';
          }else{
              $pwEditDiv.style.display = 'none';
              this.style.backgroundColor = 'lightgrey';
              this.style.color ='white';
              this.textContent = 'ë³€ê²½';
          }
      })

      /*  ì´ë©”ì¼ + ì—°ë½ì²˜ ë³€ê²½ ë²„íŠ¼ í´ë¦­ì‹œ ìˆ¨ê²¨ì§„ div ë³´ì´ê²Œ */
      const $editBtns = document.querySelectorAll('.btn.btn-secondary.btn-sm.edit');
      $editBtns.forEach(function (button){
          button.addEventListener('click',()=>{
              /* data-target ì†ì„± ì´ìš©í•˜ì—¬ íŠ¹ì • ë²„íŠ¼ê³¼ ì—°ê²°ëœ ìˆ¨ê²¨ì§„ div ì‹ë³„*/
              const $targetDivId = button.getAttribute('data-target');
              const $targetDiv= document.getElementById($targetDivId);

              // $targetDivì˜ ë¶€ëª¨ë¡œ ê°€ì„œ (ê¸°ì¡´ ì •ë³´ ë³´ì—¬ ì£¼ëŠ”) existing-value ì°¾ê¸°
              const $existingDiv = $targetDiv.parentNode.nextSibling.nextSibling;

              if($targetDiv.style.display === 'none'){
                  $targetDiv.style.display = 'block';
                  /* ìˆ¨ê²¨ì§„ div ë‚˜íƒ€ë‚˜ë©´ ê¸°ì¡´ íšŒì›ì •ë³´ ê°€ë¦¬ê¸° */
                  $existingDiv.style.display = 'none';
                  const $targetInput = $targetDiv.querySelector('.form-control');

                  $targetInput.focus();

                  $targetInput.value=$existingDiv.textContent.replaceAll(' ',''); // ê¸°ì¡´ íšŒì› ì •ë³´ë¥¼ í‘œì‹œ
                  button.textContent = 'ì·¨ì†Œ';
                  button.style.backgroundColor = 'white';
                  button.style.color = 'black';
              }else{
                  /* div ìˆ¨ê²¨ì§€ë©´ ê¸°ì¡´ íšŒì›ì •ë³´ ë‚˜íƒ€ë‚˜ê²Œ í•˜ê¸° */
                  $existingDiv.style.display = 'block';
                  $targetDiv.style.display = 'none';
                  button.textContent = 'ë³€ê²½';
                  button.style.backgroundColor = 'lightgrey';
                  button.style.color = 'white';
              }
          })
      })

      /* ì €ì¥ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ */
      const $pwEditBtn = document.getElementById('pw-edit-btn');
      const $emailEditBtn = document.getElementById('email-edit-btn');
      const $phoneEditBtn = document.getElementById('phone-edit-btn');


      /* ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸ ì¸ì¦ */
      const $pwInput = document.getElementById('floating-input');
      document.getElementById('pw-check-btn').addEventListener('click',()=>{
          $.ajax({
              url : '/user/mypage/pwCheck',
              method : 'POST',
              data : {'memberPw' : $pwInput.value },
              dataType : 'json'
          })
              .done(function(response){
                  if(!response){
                      document.getElementById('pw-auth-alert').textContent = 'ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤';
                      $pwEditBtn.disabled = true;
                  }else{
                      document.getElementById('pw-auth-alert').textContent = '';
                      $pwEditBtn.disabled = false;
                  }
              })

              .fail(function (jqXHR, textStatus){
                  alert('í†µì‹  ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤');
                  console.log(`Request failed: ${textStatus}`);
              })

      })

      /* ìƒˆë¡œìš´ ë¹„ë°€ë²ˆí˜¸ ì €ì¥ ë²„íŠ¼ í´ë¦­ì‹œ : ìœ íš¨ì„± ê²€ì‚¬ + ìƒˆ ë¹„ë°€ë²ˆí˜¸ ì¼ì¹˜ í™•ì¸ ëª¨ë‘ ë§Œì¡±ì‹œ ë¹„ë°€ë²ˆí˜¸ update */
      let $newPw = document.getElementById('new-pw');
      $pwEditBtn.addEventListener('click',function(){
          const $pwCheckAlert = document.getElementById('pw-check-alert');
          // 1. ìœ íš¨ì„± ê²€ì‚¬ í†µê³¼ ëª» í•œ ê²½ìš°
          const $inputEles = $pwEditDiv.querySelectorAll('.form-control');
          let isValid = Array.from($inputEles).every(inputEle => validationCheck(inputEle));
          console.log(isValid);
          if(!isValid){
              $pwCheckAlert.textContent = 'ìœ íš¨í•œ ê°’ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”';
          } else {
              // 2. ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸ì™€ ë™ì¼í•˜ì§„ ì•Šì€ì§€ í™•ì¸
              if($pwInput.value === $newPw.value){
                  $pwCheckAlert.textContent = 'ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸ì™€ ë‹¤ë¥¸ ê°’ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”';
                  $newPw.focus();
              } else {
                  $pwCheckAlert.textContent = '';
                  // 3. ìœ íš¨ì„± ê²€ì‚¬ í†µê³¼í•˜ë©´ ìƒˆ ë¹„ë°€ë²ˆí˜¸ ì¼ì¹˜ ì—¬ë¶€ í™•ì¸
                  if($newPw.value === document.getElementById('new-pw-check').value){
                      $pwCheckAlert.textContent = '';
                      // ë¹„ë°€ë²ˆí˜¸ UPDATE
                      $.ajax({
                          url : '/user/mypage/pwModify',
                          method : 'POST',
                          data : { 'memberPw': document.getElementById('new-pw').value },
                          dataType : 'json'
                      })
                          .done(function(response){
                              if(response.result == 1) alert('ë¹„ë°€ë²ˆí˜¸ê°€ ì •ìƒì ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.'); else alert('ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ì— ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤');
                          })

                          .fail(function(jqXHR, textStatus){
                              alert('í†µì‹  ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤');
                              console.log(`Request failed: ${textStatus}`);
                          })
                  } else {
                      $pwCheckAlert.textContent = 'ë¹„ë°€ë²ˆí˜¸ê°€ ì„œë¡œ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.';
                      document.getElementById('new-pw-check').focus();
                  }
              }

          }

      })


      /* ì´ë©”ì¼ ì €ì¥ ë²„íŠ¼ í´ë¦­ì‹œ update */
      let $newEmail = document.getElementById('email-input');
      $emailEditBtn.addEventListener('click',function (){
          $newEmail.nextElementSibling.textContent = '';
          // ìœ íš¨ì„± ê²€ì‚¬
          if(validationCheck($newEmail)){
              // ë¹„ë°€ë²ˆí˜¸ UPDATE
              $.ajax({
                  url : '/user/mypage/emailModify',
                  method : 'POST',
                  data : { 'memberEmail': $newEmail.value },
              })
                  .done(function(){
                      alert('ì´ë©”ì¼ì´ ì •ìƒì ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.');
                  })

                  .fail(function(jqXHR, textStatus){
                      alert('í†µì‹  ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤');
                      console.log(`Request failed: ${textStatus}`);
                  })
          }
      })

      /* íœ´ëŒ€í° ë²ˆí˜¸ keydown ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡ */
      let $newContact = document.getElementById('phone-input');
      $newContact.addEventListener('keydown',function (event){
          // ì…ë ¥ëœ í‚¤ê°€ ìˆ«ìê°€ ì•„ë‹ˆë©´ ë¬´ì‹œ
          const allowedKeys = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'Backspace', 'ArrowLeft', 'ArrowRight'];

          if (!allowedKeys.includes(event.key)) {
              event.preventDefault();
          }

          let phoneNumber = event.target.value;
          if (phoneNumber.length > 6) {
              phoneNumber = phoneNumber.replace(/(\d{3})(\d{4})(\d{1,4})/, '$1-$2-$3');
          }
          event.target.value = phoneNumber;

          // ê¸¸ì´ê°€ 13ì ì´ìƒì´ë©´ ì´ˆê³¼ ë¶€ë¶„ì„ ì˜ë¼ëƒ„
          if (phoneNumber.length > 13) {
              phoneNumber = phoneNumber.substring(0, 12);
          }
          event.target.value = phoneNumber;
      })

      /* íœ´ëŒ€í°ë²ˆí˜¸ ì €ì¥ ë²„íŠ¼ í´ë¦­ì‹œ update */
      $phoneEditBtn.addEventListener('click',function (){
          $newContact.nextElementSibling.textContent = '';
          // ìœ íš¨ì„± ê²€ì‚¬
          if(validationCheck($newContact)){
              // ë¹„ë°€ë²ˆí˜¸ UPDATE
              $.ajax({
                  url : '/user/mypage/contactInfoModify',
                  method : 'POST',
                  data : { 'memberEmail': $newContact.value },
              })
                  .done(function(){
                      alert('íœ´ëŒ€í° ë²ˆí˜¸ê°€ ì •ìƒì ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.');
                  })

                  .fail(function(jqXHR, textStatus){
                      alert('í†µì‹  ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤');
                      console.log(`Request failed: ${textStatus}`);
                  })
          }
      })
      /* ì…ë ¥ë€ ìœ íš¨ì„± ê²€ì‚¬ í•¨ìˆ˜ */
      function validationCheck(input){
          let isValid = true;
          if( input.value.trim() === '' || typeof input === 'undefined' || input.value == null ){
              isValid = false;
              input.nextElementSibling.textContent = 'ìœ íš¨í•œ ê°’ì´ ì•„ë‹™ë‹ˆë‹¤';
          }
          return isValid;
      }


        //====================ìƒë¯¼======================

        let selectFund = [[${selectFund}]];

        $('.fundCategory').each((idx,item)=>{
            if($(item).val() === selectFund) {
                $(item).prop('selected',true);
                return false;
            }
        })
        //í€ë”© ë‚´ì—­ ì…€ë ‰íŠ¸ ë°•ìŠ¤
        $('#selectFund').change(function(){
            selectFund = $(this).val();
            console.log(selectFund);
            location.href = `/user/mypage/?selectFund=${selectFund}`;
        })


      $('#paymentCancelBtn').click(function (){
          if (confirm('ê¸°ë¶€ë¥¼ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')){
              event.preventDefault();
              console.log($(this).next().val());
              window.location.href = "/user/donation/floverPayment/cancel?orderCode="+$(this).next().val();
          }else{
              return false;
          }
      })


    </script>
</th:block>


<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
</body>
</html>